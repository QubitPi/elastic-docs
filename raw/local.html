<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For a local repo | Docs HOWTO | Elastic</title>
<meta class="elastic" name="content" content="For a local repo | Docs HOWTO">

<link rel="home" href="index.html" title="Docs HOWTO"/>
<link rel="up" href="build.html" title="Building documentation"/>
<link rel="prev" href="build.html" title="Building documentation"/>
<link rel="next" href="website.html" title="Building all of the Elastic docs"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Docs HOWTO</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="build.html">Building documentation</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="build.html">« Building documentation</a>
</span>
<span class="next">
<a href="website.html">Building all of the Elastic docs »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="local"></a>For a local repo<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>When you are making changes to documentation in a locally checked
out repository, and you want to check that they are building
correctly, use <code class="literal">build_docs</code> with the <code class="literal">--doc</code> parameter to
generate the HTML version of the docs:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">cd path/to/your/repo
~/path/to/docs/repo/build_docs --doc /full/path/to/index.asciidoc</pre>
</div>
<p>Each Elastic project may need its own documentation book build command.
<a href="https://github.com/elastic/docs/blob/master/doc_build_aliases.sh" class="ulink" target="_top"><code class="literal">doc_build_aliases.sh</code></a> provides simplified aliases and the build commands for each book.
For example, if you want to build the Elasticsearch Guide, refer to the
<a href="https://github.com/elastic/docs/blob/master/doc_build_aliases.sh#L12" class="ulink" target="_top">Elasticsearch section</a> in <a href="https://github.com/elastic/docs/blob/master/doc_build_aliases.sh" class="ulink" target="_top"><code class="literal">doc_build_aliases.sh</code></a> file.</p>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_specifying_a_different_output_dir"></a>Specifying a different output dir<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>By default, the HTML docs are generated in <code class="literal">./html_docs</code>. You can
change the output directory with the <code class="literal">--out</code> parameter:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">build_docs --doc path/to/index.asciidoc --out output/dir/</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">output/dir/</code> will be deleted and recreated, so don&#8217;t
point it at a directory that contains anything you are fond of.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_viewing_the_docs"></a>Viewing the docs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>To view the generated docs in your web browser immediately after
the build has finished, use the <code class="literal">--open</code> parameter:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">build_docs --doc path/to/index.asciidoc --open</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_single_or_multi_page"></a>Single- or multi-page<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>By default, the build process generates an HTML file per
part/chapter/section.  To generate all of the docs in a single
file instead, use the <code class="literal">--single</code> parameter:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">build_docs --doc path/to/index.asciidoc --single</pre>
</div>
<p>And if you want a table of contents added at the beginning
of the single page output, add the <code class="literal">--toc</code> parameter:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">build_docs --doc path/to/index.asciidoc --single --toc</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The multi-page output always contains tables-of-content
where appropriate.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_chunking_in_the_right_place"></a>Chunking in the right place<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>Before Christmas 2019 we built all of the docs using
<a href="https://tdg.docbook.org/tdg/4.5/" class="ulink" target="_top">docbook</a> which is designed to generate
HTML, PDFs, and physical books. In the past this <span class="strong strong"><strong>was</strong></span> useful because the
Definitive Guide is both HTML and a physical book. But now we only really
make HTML. And docbook is very slow and difficult to customize. So we
removed it from our build process and instead generate HTML directly from
the Asciidoc files.</p>
<p>But we still have some docbook concepts hanging around because we have tons
of Asciidoc files written with docbook in mind. Thus we still use docbook&#8217;s
concept of "chunking".</p>
<p>By default, each <em>part</em> (<code class="literal">= Part Title</code>) and <em>chapter</em> (<code class="literal">== Chapter Title</code>) is
"chunked" into a separate HTML file. However, for most of our books, this
results in enormous pages. So we mostly chunk at the first <em>section</em> level
(<code class="literal">=== Section One Title</code>). This behaviour is specified in the
<a href="https://github.com/elastic/docs/blob/master/conf.yaml" class="ulink" target="_top"><code class="literal">conf.yaml</code></a>
file, but must also be specified on the command line when building a single
book:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">build_docs --doc path/to/index.asciidoc --chunk 1</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you leave out the <code class="literal">--chunk</code> flag we&#8217;ll use the default chunking.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="alternative_languages"></a>Alternative languages for examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elastic-docs/edit/master/README.asciidoc">edit</a></h2>
</div></div></div>
<p>The build supports finding "alternative languages" for examples that allows
users to specify their preferred language or client. You can do this by passing
<code class="literal">--alternatives</code> to the build like:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">cd docs/
./build_docs --doc README.asciidoc --open \
    --alternatives console:js:integtest/readme_examples/js \
    --alternatives console:csharp:integtest/readme_examples/csharp</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="build.html">« Building documentation</a>
</span>
<span class="next">
<a href="website.html">Building all of the Elastic docs »</a>
</span>
</div>
</div>
</body>
</html>
